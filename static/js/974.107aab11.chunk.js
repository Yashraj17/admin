"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[974],{974:function(e,t,n){n.r(t),n.d(t,{default:function(){return qe}});var r=n(9439),i=n(3433),a=n(1413),l=n(2791),s=n(586),o=n(266),c=n(7689),u=n(3388),d=n(8134),h=n(9076),f=n(1665),p=n(9168),m=n(184),x=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("h2",{style:{textAlign:"center"},children:"Dashboard Coming Soon..."})})},Z=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("h2",{style:{textAlign:"center"},children:"Seeting Coming Soon..."})})},v=n(3721),j=n(1082),g=n(7309),y=n(8302),S=n(7336),b=n(7615),k=n(6106),w=n(914),C=n(9389),I=n(9998),D=n(4692),R=n(2622),N=n(1752),L=n(9286),_=n(7106),A=n(5671),T=n(3144),U=n(7205),B=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"detailService",value:function(e,t){return U.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"listService",value:function(e){return U.Z.get(this.baseURL+"/list",{params:e})}},{key:"saveService",value:function(e,t){return U.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"deleteService",value:function(e){return U.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();B.baseURL="service";var F=n(4165),q=n(5861),E=n(5518),P=n(8420),z=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"get",value:function(e){return U.Z.get("../"+e)}},{key:"save",value:function(e,t){return U.Z.post(this.baseURL+"/save",e,t)}},{key:"remove",value:function(e){return U.Z.post(this.baseURL+"/remove",e)}}]),e}();function H(e){var t=e.fileList,n=e.setFileList,r=e.count,a=void 0===r?1:r,l=e.cropImage,s=void 0===l?null:l,o=e.disabled,c=void 0!==o&&o,u=e.listType,d=void 0===u?"picture-card":u,h=function(){var e=(0,q.Z)((0,F.Z)().mark((function e(r){var a,l,s,o,c,u;return(0,F.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.onSuccess,l=r.onError,s=r.file,o=r.onProgress,c=new FormData,u={onUploadProgress:function(e){o({percent:e.loaded/e.total*100})}},c.append("file",s);try{z.save(c,u).then((function(e){a("Ok"),n([].concat((0,i.Z)(t),[{uid:e.data.uid,url:e.data.url,name:e.data.name}]))}))}catch(d){l({err:d})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){e.file;var t=e.fl;typeof t!==typeof[]&&(t=[]),n(t)},p=function(e){z.remove({uid:e.uid}).then((function(e){}))};return s?(typeof s!==typeof{}&&(s={}),s.aspect=s.aspect||1,s.shape=s.shape||"rect",s.quality=s.quality||1,(0,m.jsx)(P.Z,{rotate:!0,aspect:!0,shape:s.shape,quality:s.quality,children:(0,m.jsx)(E.Z,{accept:"image/*",customRequest:h,onChange:f,onRemove:p,listType:d,fileList:t,className:"image-upload-grid",disabled:c,children:(null===t||void 0===t?void 0:t.length)>=a?null:(0,m.jsx)("div",{children:"Upload"})})})):(0,m.jsx)(E.Z,{accept:"image/*",customRequest:h,onChange:f,onRemove:p,listType:d,fileList:t,className:"image-upload-grid",disabled:c,children:(null===t||void 0===t?void 0:t.length)>=a?null:(0,m.jsx)("div",{children:"Upload"})})}z.baseURL="file";var W=n(2339),O=n(4099);function Q(e){var t=e.qData,n=e.setQData;return(0,m.jsx)(m.Fragment,{children:t.total>0?(0,m.jsx)(O.Z,{total:t.total,showTotal:function(){var e=(t.page-1)*t.limit*1+1,n=t.page*t.limit;return(0,m.jsx)(W.Z,{children:"Showing "+e+" - "+n+" out of "+t.total})},pageSize:t.limit,current:t.page,onChange:function(e,r){t.limit!==r?n((0,a.Z)((0,a.Z)({},t),{},{page:1,limit:r})):n((0,a.Z)((0,a.Z)({},t),{},{page:e}))},showSizeChanger:!0}):null})}var M,Y,J,K=n(6418),G=n(7063);"superAdmin"===G.Z.userType||null===(M=G.Z.modules)||void 0===M||M.includes("add"),"superAdmin"===G.Z.userType||null===(Y=G.Z.modules)||void 0===Y||Y.includes("edit"),"superAdmin"===G.Z.userType||null===(J=G.Z.modules)||void 0===J||J.includes("delete");function V(e){var t=e.addNewModalRef,n=e.selected,r=e.deleteData,i=e.qData,l=e.setQData,s=e.list;return(0,m.jsx)(b.Z,{onSubmitCapture:s,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(C.Z,{placeholder:"Search by name or code",value:i.key,onChange:function(e){return l((0,a.Z)((0,a.Z)({},i),{},{key:e.target.value}))},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsxs)(w.Z,{span:5,children:[(0,m.jsx)(b.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(g.Z,{type:"primary",icon:(0,m.jsx)(L.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,m.jsx)(j.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){r(n)},okText:"Yes",cancelText:"No",children:(0,m.jsx)(g.Z,{type:"primary",danger:!0,style:{float:"right"},icon:(0,m.jsx)(R.Z,{}),children:"Delete Selected"})}):null]})]})})}var X=(0,l.forwardRef)((function(e,t){var n=e.list,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)({aspect:1}),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,l.useState)(!1),x=(0,r.Z)(p,2),Z=x[0],v=x[1],j=(0,l.useState)([]),y=(0,r.Z)(j,2),S=y[0],R=y[1],N=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],r=e[1],i=n.split("."),a=0;a<i.length;a++)a+1===i.length?t[i[a]]=r:("undefined"===typeof t[i[a]]&&(1*parseInt(i[a+1])>=0?t[i[a]]=[]:t[i[a]]={}),t=t[i[a]])})),f((0,a.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var L=function(){v(!0),B.saveService(h).then((function(e){(0,K.Br)(e.message),N((0,a.Z)({},e.data)),n()})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,K.Br)(t,"error")}else(0,K.Br)(e.message,"error")})).finally((function(){v(!1)}))};return(0,l.useEffect)((function(){h._id&&(v(!0),B.detailService(h._id).then((function(e){var t,n;f(e.data||{}),R(null!==(t=e.data)&&void 0!==t&&t.file?[null===(n=e.data)||void 0===n?void 0:n.file]:[])})).catch((function(e){(0,K.Br)(e.message,"error")})).finally((function(){v(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?R([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){N({file:null===S||void 0===S?void 0:S[0]})}),[S]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(h._id?"Edit":"Add")+" Services",style:{top:20},open:o,okText:"Save",onOk:L,okButtonProps:{disabled:Z},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:500,footer:[(0,m.jsx)(g.Z,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(g.Z,{type:"primary",onClick:L,children:"Save"},"save")],children:(0,m.jsx)(D.Z,{spinning:Z,indicator:(0,m.jsx)(_.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(b.Z,{layout:"vertical",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsxs)(w.Z,{span:24,children:[(0,m.jsx)(b.Z.Item,{label:"Name",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"name",value:h.name,onChange:function(e){N({name:e.target.value})}})}),(0,m.jsx)(b.Z.Item,{label:"Per Hour Rate",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Per Hour Rate",type:"number",value:h.per_hr_rate,onChange:function(e){N({per_hr_rate:e.target.value})}})})]}),(0,m.jsx)(w.Z,{span:24,children:(0,m.jsx)(b.Z.Item,{label:"Icon",children:(0,m.jsx)(H,{fileList:S,setFileList:R,count:1,listType:"picture"})})})]})})})})})})),$=n(458),ee=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"detailWorker",value:function(e,t){return U.Z.get(this.baseURL+"/details-worker/"+e,{params:t})}},{key:"listWorker",value:function(e){return U.Z.get(this.baseURL+"/list-worker",{params:e})}},{key:"saveWorker",value:function(e,t){return U.Z.post(this.baseURL+"/save-worker",e,{params:t})}},{key:"deleteWorker",value:function(e){return U.Z.post(this.baseURL+"/delete-worker",{ids:e})}}]),e}();ee.baseURL="worker";var te=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"listWorkHistory",value:function(e){return U.Z.get(this.baseURL+"/list",{params:e})}}]),e}();te.baseURL="workhistory";function ne(e){var t=e.workerId,n=void 0===t?null:t,i=(0,l.useState)([]),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)(!1),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,l.useState)([]),x=(0,r.Z)(p,2),Z=x[0],v=x[1],j=(0,l.useState)({page:1,limit:20,workerId:n}),g=(0,r.Z)(j,2),b=g[0],k=g[1],w=(0,l.useRef)();function C(){f(!0),te.listWorkHistory(b).then((function(e){var t;c(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),k((0,a.Z)((0,a.Z)({},b),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){f(!1)}))}var I=[{title:"Costumer Name",dataIndex:"userServiceDetail",render:function(e){return null===e||void 0===e?void 0:e.receiverName}},{title:"Phone",dataIndex:"userServiceDetail",width:100,render:function(e){return null===e||void 0===e?void 0:e.phone}},{title:"Amount",dataIndex:"userServiceDetail",width:100,render:function(e){return(0,m.jsxs)("b",{children:[" \u20b9 ",e.amount," "]})}},{title:"Status",dataIndex:"userServiceDetail",width:200,render:function(e){return(0,m.jsx)(W.Z,{color:"blue",children:null===e||void 0===e?void 0:e.status})}}].filter((function(e){return!e.hidden})).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));I[0].fixed=!0,I[I.length-1].fixed="right";var D={bordered:!0,loading:h,size:"small",title:function(){return(0,m.jsx)(re,{addNewModalRef:w,selected:Z,qData:b,setQData:k,list:C})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:b,setQData:k})},rowSelection:{onChange:function(e){v(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){C()}),[b.page,b.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Worker History"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},D),{},{pagination:{position:["none"],pageSize:b.limit},columns:I,dataSource:o.length?o:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}}))]})}function re(e){var t=e.qData,n=e.setQData,r=e.list;return(0,m.jsx)(b.Z,{onSubmitCapture:r,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(C.Z,{placeholder:"Search by name or code",value:t.key,onChange:function(e){return n((0,a.Z)((0,a.Z)({},t),{},{key:e.target.value}))},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsx)(w.Z,{span:5})]})})}function ie(e){var t=e.addNewModalRef,n=e.selected,r=e.deleteData,i=e.qData,l=e.setQData,s=e.list;return(0,m.jsx)(b.Z,{onSubmitCapture:s,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(C.Z,{placeholder:"Search by name or code",value:i.key,onChange:function(e){return l((0,a.Z)((0,a.Z)({},i),{},{key:e.target.value}))},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsxs)(w.Z,{span:5,children:[(0,m.jsx)(b.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(g.Z,{type:"primary",icon:(0,m.jsx)(L.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,m.jsx)(j.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){r(n)},okText:"Yes",cancelText:"No",children:(0,m.jsx)(g.Z,{type:"primary",danger:!0,style:{float:"right"},icon:(0,m.jsx)(R.Z,{}),children:"Delete Selected"})}):null]})]})})}var ae=(0,l.forwardRef)((function(e,t){var n=e.list,i=e.service,s=(0,l.useState)(!1),o=(0,r.Z)(s,2),c=o[0],u=o[1],d=(0,l.useState)({aspect:1}),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,l.useState)(!1),Z=(0,r.Z)(x,2),v=Z[0],j=Z[1],y=(0,l.useState)([]),S=(0,r.Z)(y,2),R=S[0],N=S[1],L=function(e){Object.entries(e).forEach((function(e){for(var t=f,n=e[0],r=e[1],i=n.split("."),a=0;a<i.length;a++)a+1===i.length?t[i[a]]=r:("undefined"===typeof t[i[a]]&&(1*parseInt(i[a+1])>=0?t[i[a]]=[]:t[i[a]]={}),t=t[i[a]])})),p((0,a.Z)({},f))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){u(!0),p(e?{_id:e}:{status:!0})}}}));var A=function(){j(!0),ee.saveWorker(f).then((function(e){(0,K.Br)(e.message),L((0,a.Z)({},e.data)),n()})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,K.Br)(t,"error")}else(0,K.Br)(e.message,"error")})).finally((function(){j(!1)}))};return(0,l.useEffect)((function(){f._id&&(j(!0),ee.detailWorker(f._id).then((function(e){var t,n;p(e.data||{}),N(null!==(t=e.data)&&void 0!==t&&t.avatar?[null===(n=e.data)||void 0===n?void 0:n.avatar]:[])})).catch((function(e){(0,K.Br)(e.message,"error")})).finally((function(){j(!1)})))}),[f._id]),(0,l.useEffect)((function(){c?N([]):p({_id:null})}),[c]),(0,l.useEffect)((function(){L({avatar:null===R||void 0===R?void 0:R[0]})}),[R]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(f._id?"Edit":"Add")+" Worker",style:{top:20},open:c,okText:"Save",onOk:A,okButtonProps:{disabled:v},onCancel:function(){u(!1)},destroyOnClose:!0,maskClosable:!1,width:800,className:"app-modal-body",footer:[(0,m.jsx)(g.Z,{onClick:function(){u(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(g.Z,{type:"primary",onClick:A,children:"Save"},"save")],children:(0,m.jsx)(D.Z,{spinning:v,indicator:(0,m.jsx)(_.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(b.Z,{layout:"vertical",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:20,children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Username",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"John Doe",value:f.userName,onChange:function(e){L({userName:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Phone",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Phone",value:f.phone,onChange:function(e){L({phone:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Service",required:!0,children:(0,m.jsx)($.Z,{value:f.serviceId,onChange:function(e){L({serviceId:e})},options:i.map((function(e){return{value:e._id,label:e.name}}))})})}),(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Alternate Phone",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Alternate Phone",value:f.alternatePhone,onChange:function(e){L({alternatePhone:e.target.value})}})})})]})}),(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{label:"Avatar",children:(0,m.jsx)(H,{fileList:R,setFileList:N,count:1})})}),(0,m.jsx)(w.Z,{span:24,children:(0,m.jsx)(b.Z.Item,{label:"Present Address",required:!0,children:(0,m.jsx)(C.Z.TextArea,{placeholder:"Present Address",value:f.presentAddress,onChange:function(e){L({presentAddress:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:24,children:(0,m.jsx)(b.Z.Item,{label:"Permanent Address",required:!0,children:(0,m.jsx)(C.Z.TextArea,{placeholder:"Permanent Address",value:f.permanentAddress,onChange:function(e){L({permanentAddress:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:10,children:(0,m.jsx)(b.Z.Item,{label:"Status",required:!0,children:(0,m.jsxs)($.Z,{value:f.status,onChange:function(e){L({status:e.target.value})},children:[(0,m.jsx)($.Z.Option,{value:!0,children:"Active"}),(0,m.jsx)($.Z.Option,{value:!1,children:"Inactive"})]})})}),(0,m.jsx)(w.Z,{span:10,children:(0,m.jsx)(b.Z.Item,{label:"Per Hour Rate",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Per Hour Rate",value:f.per_hr_rate,onChange:function(e){L({per_hr_rate:e.target.value})}})})})]})})})})})})),le=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),i=(0,r.Z)(n,2),s=i[0],o=i[1],c=(0,l.useState)({}),u=(0,r.Z)(c,2),d=u[0],h=u[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h(e?(0,a.Z)({},e):{status:!0})}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(0,m.jsxs)(m.Fragment,{children:["All Works of ",(0,m.jsx)(y.Z.Text,{type:"danger",children:null===d||void 0===d?void 0:d.userName})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1600,className:"app-modal-body-overflow",footer:[(0,m.jsx)(g.Z,{onClick:function(){o(!1)},children:"Cancel"},"cancel")],children:(0,m.jsx)(ne,{workerId:d._id})})})})),se=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"detailUser",value:function(e,t){return U.Z.get(this.baseURL+"/details-user/"+e,{params:t})}},{key:"listUser",value:function(e){return U.Z.get(this.baseURL+"/list-user",{params:e})}},{key:"saveUser",value:function(e,t){return U.Z.post(this.baseURL+"/save-user",e,{params:t})}},{key:"deleteUser",value:function(e){return U.Z.post(this.baseURL+"/delete-user",{ids:e})}}]),e}();se.baseURL="user";var oe=n(7174),ce=n(4991),ue=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"detailJob",value:function(e,t){return U.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"listJob",value:function(e){return U.Z.get(this.baseURL+"/list",{params:e})}},{key:"saveJob",value:function(e,t){return U.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"deleteJob",value:function(e){return U.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();ue.baseURL="userservice";function de(e){var t=e.userId,n=void 0===t?null:t,i=(0,l.useState)([]),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)([]),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,l.useState)(!1),x=(0,r.Z)(p,2),Z=x[0],v=x[1],j=(0,l.useState)([]),g=(0,r.Z)(j,2),b=g[0],k=g[1],w=(0,l.useState)({page:1,limit:20,userId:n}),C=(0,r.Z)(w,2),I=C[0],D=C[1],R=(0,l.useRef)();function N(){v(!0),ue.listJob(I).then((function(e){var t;c(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),D((0,a.Z)((0,a.Z)({},I),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){v(!1)}))}var L=[{title:"Receiver Name",dataIndex:"receiverName"},{title:"Phone",dataIndex:"phone",width:100},{title:"Service",dataIndex:"serviceDetail",width:200,render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"Amount",dataIndex:"amount",width:100,render:function(e){return(0,m.jsxs)("b",{children:[" \u20b9 ",e," "]})}},{title:"Status",dataIndex:"status",width:150,render:function(e){return(0,m.jsx)(W.Z,{color:"blue",children:e})}}].filter((function(e){return!e.hidden})).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));L[0].fixed=!0,L[L.length-1].fixed="right";var _={bordered:!0,loading:Z,size:"small",title:function(){return(0,m.jsx)(he,{addNewModalRef:R,selected:b,qData:I,setQData:D,list:N,userId:n,users:h})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:I,setQData:D})},rowSelection:{onChange:function(e){k(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){N()}),[I.page,I.limit]),(0,l.useEffect)((function(){v(!0),se.listUser(I).then((function(e){var t;f(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),D((0,a.Z)((0,a.Z)({},I),{},{isAll:1}))})).catch((function(e){})).finally((function(){v(!1)}))}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Jobs"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},_),{},{pagination:{position:["none"],pageSize:I.limit},columns:L,dataSource:o.length?o:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"},expandable:{expandedRowRender:function(e){return(0,m.jsxs)(oe.Z,{title:"Job Info",children:[(0,m.jsx)(oe.Z.Item,{label:"WorkerName",children:null!==e&&void 0!==e&&e.workerDetail?null===e||void 0===e?void 0:e.workerDetail.userName:"Not Accepted"}),(0,m.jsx)(oe.Z.Item,{label:"Worker Phone",children:null!==e&&void 0!==e&&e.workerDetail?null===e||void 0===e?void 0:e.workerDetail.phone:"Empty"}),(0,m.jsx)(oe.Z.Item,{label:"Live",children:e.addressDetail.state}),(0,m.jsx)(oe.Z.Item,{label:"Remark",children:"empty"}),(0,m.jsxs)(oe.Z.Item,{label:"Address",children:[e.addressDetail.street1," ,",e.addressDetail.street2," ,",e.addressDetail.city]})]})},rowExpandable:function(e){return"Not Expandable"!==e.receiverName}}}))]})}function he(e){e.addNewModalRef,e.selected,e.deleteData;var t=e.qData,n=e.setQData,i=e.userId,s=e.list,o=e.users,c=(0,l.useState)([]),u=(0,r.Z)(c,2),d=u[0],h=u[1];return(0,l.useEffect)((function(){var e=null===o||void 0===o?void 0:o.map((function(e){return{label:e.userName?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{style:{padding:"0px",margin:"0px"},children:e.userName}),(0,m.jsx)("p",{style:{fontSize:"12px",margin:"0px"},children:(0,m.jsxs)(y.Z.Text,{type:"danger",children:["@",e.phone]})})]}):e.phone,value:e.userName?e.userName:e.phone,searchKey:e.userName+e.phone}}));h(e)}),[o]),(0,m.jsx)(b.Z,{onSubmitCapture:s,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[!i&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)($.Z,{showSearch:!0,allowClear:!0,placeholder:"Select by username / phone",optionFilterProp:"children",onChange:function(e){return n=e,t[r="key"]=n,void(void 0===n&&(t[r]="",s()));var n,r},filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.searchKey)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:d})})}),(0,m.jsx)(w.Z,{span:8,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(ce.Z.RangePicker,{style:{width:"100%"},value:t.Datekey,onChange:function(e){return n((0,a.Z)((0,a.Z)({},t),{},{Datekey:e}))},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})})]}),(0,m.jsx)(w.Z,{span:5})]})})}function fe(e){var t=e.addNewModalRef,n=e.selected,r=e.deleteData,i=e.qData,l=e.setQData,s=e.list;return(0,m.jsx)(b.Z,{onSubmitCapture:s,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(C.Z,{placeholder:"Search by name or code",value:i.key,onChange:function(e){return l((0,a.Z)((0,a.Z)({},i),{},{key:e.target.value}))},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsxs)(w.Z,{span:5,children:[(0,m.jsx)(b.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(g.Z,{type:"primary",icon:(0,m.jsx)(L.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,m.jsx)(j.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){r(n)},okText:"Yes",cancelText:"No",children:(0,m.jsx)(g.Z,{type:"primary",danger:!0,style:{float:"right"},icon:(0,m.jsx)(R.Z,{}),children:"Delete Selected"})}):null]})]})})}var pe=(0,l.forwardRef)((function(e,t){var n=e.list,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)({aspect:1}),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,l.useState)(!1),x=(0,r.Z)(p,2),Z=x[0],v=x[1],j=(0,l.useState)([]),y=(0,r.Z)(j,2),S=y[0],R=y[1],N=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],r=e[1],i=n.split("."),a=0;a<i.length;a++)a+1===i.length?t[i[a]]=r:("undefined"===typeof t[i[a]]&&(1*parseInt(i[a+1])>=0?t[i[a]]=[]:t[i[a]]={}),t=t[i[a]])})),f((0,a.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var L=function(){v(!0),se.saveUser(h).then((function(e){(0,K.Br)(e.message),N((0,a.Z)({},e.data)),n()})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,K.Br)(t,"error")}else(0,K.Br)(e.message,"error")})).finally((function(){v(!1)}))};return(0,l.useEffect)((function(){h._id&&(v(!0),se.detailUser(h._id).then((function(e){var t,n;f(e.data||{}),R(null!==(t=e.data)&&void 0!==t&&t.avatar?[null===(n=e.data)||void 0===n?void 0:n.avatar]:[])})).catch((function(e){(0,K.Br)(e.message,"error")})).finally((function(){v(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?R([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){N({avatar:null===S||void 0===S?void 0:S[0]})}),[S]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(h._id?"Edit":"Add")+" User",style:{top:20},open:o,okText:"Save",onOk:L,okButtonProps:{disabled:Z},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:800,className:"app-modal-body",footer:[(0,m.jsx)(g.Z,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(g.Z,{type:"primary",onClick:L,children:"Save"},"save")],children:(0,m.jsx)(D.Z,{spinning:Z,indicator:(0,m.jsx)(_.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(b.Z,{layout:"vertical",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:20,children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Username",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"John Doe",value:h.userName,onChange:function(e){N({userName:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Email",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Email",value:h.email,onChange:function(e){N({email:e.target.value})}})})}),(0,m.jsx)(w.Z,{span:12,children:(0,m.jsx)(b.Z.Item,{label:"Phone",required:!0,children:(0,m.jsx)(C.Z,{placeholder:"Phone",value:h.phone,onChange:function(e){N({phone:e.target.value})}})})})]})}),(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{label:"Avatar",children:(0,m.jsx)(H,{fileList:S,setFileList:R,count:1})})}),(0,m.jsx)(w.Z,{span:10,children:(0,m.jsx)(b.Z.Item,{label:"Status",required:!0,children:(0,m.jsxs)($.Z,{value:h.status,onChange:function(e){N({status:e.target.value})},children:[(0,m.jsx)($.Z.Option,{value:!0,children:"Active"}),(0,m.jsx)($.Z.Option,{value:!1,children:"Inactive"})]})})})]})})})})})})),me=(0,l.forwardRef)((function(e,t){var n=(0,l.useState)(!1),i=(0,r.Z)(n,2),s=i[0],o=i[1],c=(0,l.useState)({}),u=(0,r.Z)(c,2),d=u[0],h=u[1];return(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),h(e?(0,a.Z)({},e):{status:!0})}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(0,m.jsxs)(m.Fragment,{children:["All Job List of ",(0,m.jsx)(y.Z.Text,{type:"danger",children:null===d||void 0===d?void 0:d.userName})]}),style:{top:20},open:s,onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:1600,className:"app-modal-body-overflow",footer:[(0,m.jsx)(g.Z,{onClick:function(){o(!1)},children:"Cancel"},"cancel")],children:(0,m.jsx)(de,{userId:d._id})})})})),xe=n(7128),Ze=n(4422),ve=function(){function e(){(0,A.Z)(this,e)}return(0,T.Z)(e,null,[{key:"list",value:function(e){return U.Z.get(this.baseURL+"/list",{params:e})}},{key:"detail",value:function(e,t){return U.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"save",value:function(e,t){return U.Z.post(this.baseURL+"/save",e,t)}},{key:"approve",value:function(e,t){return U.Z.post(this.baseURL+"/approve/"+e,t)}}]),e}();ve.baseURL="leave";var je=n(2426),ge=n.n(je);function ye(e){var t=e.addNewModalRef,n=e.selected,i=e.deleteData,a=e.qData,s=(e.setQData,e.list),o=e.workers,c=(0,l.useState)([]),u=(0,r.Z)(c,2),d=u[0],h=u[1],f=function(e,t){a[t]=e,void 0===e&&(a[t]="",s())};return(0,l.useEffect)((function(){var e=null===o||void 0===o?void 0:o.map((function(e){return{label:e.userName?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{style:{padding:"0px",margin:"0px"},children:e.userName}),(0,m.jsx)("p",{style:{fontSize:"12px",margin:"0px"},children:(0,m.jsxs)(y.Z.Text,{type:"danger",children:["@",e.phone]})})]}):e.phone,value:e.userName?e.userName:e.phone,searchKey:e.userName+e.phone}}));h(e)}),[o]),(0,m.jsx)(b.Z,{onSubmitCapture:s,className:"search-form",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)($.Z,{showSearch:!0,allowClear:!0,placeholder:"Select by username / phone",optionFilterProp:"children",onChange:function(e){return f(e,"userName")},filterOption:function(e,t){var n;return(null!==(n=null===t||void 0===t?void 0:t.searchKey)&&void 0!==n?n:"").toLowerCase().includes(e.toLowerCase())},options:d})})}),(0,m.jsx)(w.Z,{span:4,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)($.Z,{placeholder:"Select Type...",onChange:function(e){return f(e,"status")},allowClear:!0,options:[{value:"Approved",label:"Approved"},{value:"Rejected",label:"Rejected"},{value:"Requested",label:"Requested"}]})})}),(0,m.jsx)(w.Z,{span:8,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(ce.Z.RangePicker,{style:{width:"100%"},onChange:function(e){return f(e,"DateKey")},allowClear:!0})})}),(0,m.jsx)(w.Z,{span:3,children:(0,m.jsx)(b.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsxs)(w.Z,{span:5,children:[(0,m.jsx)(b.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(g.Z,{type:"primary",icon:(0,m.jsx)(L.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})}),n.length?(0,m.jsx)(j.Z,{title:"Are you sure to delete these selected images?. Be sure to delete the image from server.",onConfirm:function(){i(n)},okText:"Yes",cancelText:"No",children:(0,m.jsx)(g.Z,{type:"primary",danger:!0,style:{float:"right"},icon:(0,m.jsx)(R.Z,{}),children:"Delete Selected"})}):null]})]})})}var Se=(0,l.forwardRef)((function(e,t){var n=e.list,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),o=s[0],c=s[1],u=(0,l.useState)({aspect:1}),d=(0,r.Z)(u,2),h=d[0],f=d[1],p=(0,l.useState)(!1),x=(0,r.Z)(p,2),Z=x[0],v=x[1],j=(0,l.useState)([]),y=(0,r.Z)(j,2),S=y[0],C=y[1],R=function(e){Object.entries(e).forEach((function(e){for(var t=h,n=e[0],r=e[1],i=n.split("."),a=0;a<i.length;a++)a+1===i.length?t[i[a]]=r:("undefined"===typeof t[i[a]]&&(1*parseInt(i[a+1])>=0?t[i[a]]=[]:t[i[a]]={}),t=t[i[a]])})),f((0,a.Z)({},h))};(0,l.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),f(e?{_id:e}:{fileType:"photo"})}}}));var N=function(){v(!0),ve.approve(h._id,h).then((function(e){(0,K.Br)(e.message),R((0,a.Z)({},e.data)),n()})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];(0,K.Br)(t,"error")}else(0,K.Br)(e.message,"error")})).finally((function(){v(!1)}))};return(0,l.useEffect)((function(){h._id&&(v(!0),ve.detail(h._id).then((function(e){var t,n;f(e.data||{}),C(null!==(t=e.data)&&void 0!==t&&t.file?[null===(n=e.data)||void 0===n?void 0:n.file]:[])})).catch((function(e){(0,K.Br)(e.message,"error")})).finally((function(){v(!1)})))}),[h._id]),(0,l.useEffect)((function(){o?C([]):f({_id:null})}),[o]),(0,l.useEffect)((function(){R({file:null===S||void 0===S?void 0:S[0]})}),[S]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(I.Z,{title:(h._id?"Edit":"Add")+" Leave",style:{top:20},open:o,okText:"Save",onOk:N,okButtonProps:{disabled:Z},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:500,footer:[(0,m.jsx)(g.Z,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(g.Z,{type:"primary",onClick:N,children:"Save"},"save")],children:(0,m.jsx)(D.Z,{spinning:Z,indicator:(0,m.jsx)(_.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(b.Z,{layout:"vertical",children:(0,m.jsxs)(k.Z,{gutter:[12,2],children:[(0,m.jsxs)(w.Z,{span:6,children:[(0,m.jsx)(xe.Z,{orientation:"left",children:"Leave Application Status"}),(0,m.jsxs)(Ze.ZP.Group,{onChange:function(e){return R({status:e.target.value})},value:h.status,style:{display:"flex",gap:"20px",alignItems:"center"},children:[(0,m.jsx)(Ze.ZP,{value:"Approved",children:"Approved"}),(0,m.jsx)(Ze.ZP,{value:"Requested",children:"Requested"}),(0,m.jsx)(Ze.ZP,{value:"Rejected",children:"Rejected"})]})]}),(0,m.jsxs)(w.Z,{span:24,children:[(0,m.jsx)(xe.Z,{orientation:"left",children:"Leave Date"}),(0,m.jsx)(ce.Z.RangePicker,{style:{width:"100%"},defaultValue:[ge()(h.startDate),ge()(h.endDate)],onChange:function(e){return R({startDate:new Date(e[0]),endDate:new Date(e[1])})},allowClear:!0})]})]})})})})})})),be=[{title:"Dashboard",icon:d.Z,url:"/",component:x},{title:"Service",icon:h.Z,url:"/Service",component:function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,l.useState)(!1),o=(0,r.Z)(s,2),c=o[0],u=o[1],d=(0,l.useState)([]),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,l.useState)({page:1,limit:20,fileType:"photo"}),Z=(0,r.Z)(x,2),b=Z[0],k=Z[1],w=(0,l.useRef)(),C=[{title:"Icon",dataIndex:"file",width:50,render:function(e){return(0,m.jsx)(v.Z,{src:null===e||void 0===e?void 0:e.url,height:30})}},{title:"Name",dataIndex:"name"},{title:"Per Hour Rate",dataIndex:"per_hr_rate",width:120,render:function(e){return(0,m.jsxs)("b",{children:[" \u20b9 ",e," "]})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{title:"Are you sure to delete this Service?",onConfirm:function(){D(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(g.Z,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(R.Z,{})}),"\xa0"]}),(0,m.jsx)(g.Z,{type:"primary",size:"small",icon:(0,m.jsx)(N.Z,{}),onClick:function(){w.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){u(!0),B.listService(b).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),k((0,a.Z)((0,a.Z)({},b),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){u(!1)}))}var D=function(e){B.deleteService(e).then((function(e){(0,K.Br)(e.message),I(),p([])})).catch((function(e){(0,K.Br)(e.message,"error")}))},L=C.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));L[0].fixed=!0,L[L.length-1].fixed="right";var _={bordered:!0,loading:c,size:"small",title:function(){return(0,m.jsx)(V,{addNewModalRef:w,selected:f,deleteData:D,qData:b,setQData:k,list:I})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:b,setQData:k})},rowSelection:{onChange:function(e){p(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[b.page,b.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Services"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},_),{},{pagination:{position:["none"],pageSize:b.limit},columns:L,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(X,{ref:w,list:I})]})}},{title:"JobList",icon:h.Z,url:"/JobList",component:de},{title:"Management",icon:f.Z,url:"/management",children:[{title:"User",icon:h.Z,url:"/",component:function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,l.useState)(!1),o=(0,r.Z)(s,2),c=o[0],u=o[1],d=(0,l.useState)([]),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,l.useState)({page:1,limit:20,fileType:"photo"}),Z=(0,r.Z)(x,2),v=Z[0],b=Z[1],k=(0,l.useRef)(),w=(0,l.useRef)(),C=[{title:"Username",dataIndex:"userName"},{title:"Phone",dataIndex:"phone",width:100},{title:"Email",dataIndex:"email",width:200},{title:"Job",dataIndex:"_id",width:80,render:function(e,t){return(0,m.jsx)(g.Z,{type:"primary",size:"small",onClick:function(){w.current.openForm({_id:t._id,userName:t.userName})},children:"Jobs"})}},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,m.jsx)(W.Z,{color:"green",children:"Active"}):(0,m.jsx)(W.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{title:"Are you sure to delete this User?",onConfirm:function(){D(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(g.Z,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(R.Z,{})}),"\xa0"]}),(0,m.jsx)(g.Z,{type:"primary",size:"small",icon:(0,m.jsx)(N.Z,{}),onClick:function(){k.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function I(){u(!0),se.listUser(v).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),b((0,a.Z)((0,a.Z)({},v),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){u(!1)}))}var D=function(e){se.deleteUser(e).then((function(e){(0,K.Br)(e.message),I(),p([])})).catch((function(e){(0,K.Br)(e.message,"error")}))},L=C.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));L[0].fixed=!0,L[L.length-1].fixed="right";var _={bordered:!0,loading:c,size:"small",title:function(){return(0,m.jsx)(fe,{addNewModalRef:k,selected:f,deleteData:D,qData:v,setQData:b,list:I})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:v,setQData:b})},rowSelection:{onChange:function(e){p(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){I()}),[v.page,v.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Users"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},_),{},{pagination:{position:["none"],pageSize:v.limit},columns:L,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(pe,{ref:k,list:I}),(0,m.jsx)(me,{ref:w})]})}},{title:"Worker",icon:h.Z,url:"/Worker",component:function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,l.useState)(!1),o=(0,r.Z)(s,2),c=o[0],u=o[1],d=(0,l.useState)([]),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,l.useState)({page:1,limit:20}),Z=(0,r.Z)(x,2),v=Z[0],b=Z[1],k=(0,l.useRef)(),w=(0,l.useRef)(),C=(0,l.useState)([]),I=(0,r.Z)(C,2),D=I[0],L=I[1],_=[{title:"Username",dataIndex:"userName"},{title:"Phone",dataIndex:"phone",width:100},{title:"Service",dataIndex:"serviceDetail",width:150,render:function(e){return null===e||void 0===e?void 0:e.name}},{title:"Address",dataIndex:"permanentAddress",width:300},{title:"WorkList",dataIndex:"_id",width:80,render:function(e,t){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(g.Z,{type:"primary",size:"small",onClick:function(){w.current.openForm({_id:t._id,userName:t.userName})},children:"Works"})})}},{title:"Rate Per Hour",dataIndex:"per_hr_rate",width:120,render:function(e){return(0,m.jsxs)("b",{children:[" \u20b9 ",e," "]})}},{title:"Status",dataIndex:"status",width:80,render:function(e){return e?(0,m.jsx)(W.Z,{color:"green",children:"Active"}):(0,m.jsx)(W.Z,{color:"red",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{title:"Are you sure to delete this Worker?",onConfirm:function(){T(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(g.Z,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(R.Z,{})}),"\xa0"]}),(0,m.jsx)(g.Z,{type:"primary",size:"small",icon:(0,m.jsx)(N.Z,{}),onClick:function(){k.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function A(){u(!0),ee.listWorker(v).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),b((0,a.Z)((0,a.Z)({},v),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){u(!1)}))}var T=function(e){ee.deleteWorker(e).then((function(e){(0,K.Br)(e.message),A(),p([])})).catch((function(e){(0,K.Br)(e.message,"error")}))},U=_.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));U[0].fixed=!0,U[U.length-1].fixed="right";var F={bordered:!0,loading:c,size:"small",title:function(){return(0,m.jsx)(ie,{addNewModalRef:k,selected:f,deleteData:T,qData:v,setQData:b,list:A})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:v,setQData:b})},rowSelection:{onChange:function(e){p(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){A(),B.listService().then((function(e){L(e.data||[])})).catch((function(e){(0,K.Br)("Service data not loaded","error")}))}),[v.page,v.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Workers"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},F),{},{pagination:{position:["none"],pageSize:v.limit},columns:U,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(ae,{ref:k,list:A,service:D}),(0,m.jsx)(le,{ref:w})]})}}]},{title:"WorkHistory",icon:p.Z,url:"/workhistory",component:ne},{title:"Leave Requests",icon:p.Z,url:"/leave",component:function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,l.useState)(!1),o=(0,r.Z)(s,2),c=o[0],u=o[1],d=(0,l.useState)([]),h=(0,r.Z)(d,2),f=h[0],p=h[1],x=(0,l.useState)([]),Z=(0,r.Z)(x,2),b=Z[0],k=Z[1],w=(0,l.useState)({page:1,limit:20,fileType:"photo"}),C=(0,r.Z)(w,2),I=C[0],D=C[1],L=(0,l.useRef)(),_=[{title:"Worker Name",dataIndex:"workerDetail"},{title:"Reason",dataIndex:"reason",width:250},{title:"Start Date",dataIndex:"startDate",width:150,render:function(e){return(0,m.jsx)("span",{children:ge()(e).format("DD MMM YYYY")})}},{title:"End Date",dataIndex:"endDate",width:150,render:function(e){return(0,m.jsx)("span",{children:ge()(e).format("DD MMM YYYY")})}},{title:"Prescription",dataIndex:"precipition",width:100,render:function(e){return(0,m.jsx)(v.Z,{src:null===e||void 0===e?void 0:e.url,height:32})}},{title:"Status",dataIndex:"isApproved",width:150,render:function(e,t){return"Approved"===t.status?(0,m.jsx)(W.Z,{color:"green",children:"Approved"}):"Rejected"===t.status?(0,m.jsx)(W.Z,{color:"red",children:"Rejected"}):(0,m.jsx)(W.Z,{color:"blue",children:"Requested"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(j.Z,{title:"Are you sure to delete this Service?",onConfirm:function(){T(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(g.Z,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(R.Z,{})}),"\xa0"]}),(0,m.jsx)(g.Z,{type:"primary",size:"small",icon:(0,m.jsx)(N.Z,{}),onClick:function(){L.current.openForm(t._id)}})]})}}].filter((function(e){return!e.hidden}));function A(){u(!0),ve.list(I).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),D((0,a.Z)((0,a.Z)({},I),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){u(!1)}))}var T=function(e){ve.deleteService(e).then((function(e){(0,K.Br)(e.message),A(),p([])})).catch((function(e){(0,K.Br)(e.message,"error")}))},U=_.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));U[0].fixed=!0,U[U.length-1].fixed="right";var B={bordered:!0,loading:c,size:"small",title:function(){return(0,m.jsx)(ye,{addNewModalRef:L,selected:f,deleteData:T,qData:I,setQData:D,list:A,workers:b})},showHeader:!0,footer:function(){return(0,m.jsx)(Q,{qData:I,setQData:D})},rowSelection:{onChange:function(e){p(e)}},tableLayout:void 0};return(0,l.useEffect)((function(){A()}),[I.page,I.limit]),(0,l.useEffect)((function(){u(!0),ee.listWorker(I).then((function(e){var t;k(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),D((0,a.Z)((0,a.Z)({},I),{},{isAll:1}))})).catch((function(e){})).finally((function(){u(!1)}))}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.Z.Title,{level:5,children:"List of Leave Requests"}),(0,m.jsx)(S.Z,(0,a.Z)((0,a.Z)({},B),{},{pagination:{position:["none"],pageSize:I.limit},columns:U,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(Se,{ref:L,list:A})]})}},{title:"Settings",icon:p.Z,url:"/Setting",component:Z}].filter((function(e){var t;return!e.hidden||(null===(t=e.children)||void 0===t?void 0:t.length)})),ke=be,we=n(1087),Ce=(0,i.Z)(ke);!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(r,i){var l;null!==(l=r.children)&&void 0!==l&&l.length?(t[i]=(0,a.Z)((0,a.Z)({},t[i]),{},{key:n+r.url,icon:(0,m.jsx)(r.icon,{}),label:(0,m.jsx)(we.rU,{className:"text-d-none",to:n+r.url,children:r.title})}),e(r.children,n+r.url)):t[i]=(0,a.Z)((0,a.Z)({},r),{},{key:n+r.url,icon:(0,m.jsx)(r.icon,{}),label:(0,m.jsx)(we.rU,{className:"text-d-none",to:n+r.url,children:r.title})})}))}(Ce);var Ie=function(){var e,t=[];return null===(e=(0,c.TH)().pathname.split("/"))||void 0===e||e.reduce((function(e,n){return t.push(e+"/"+n),e+"/"+n})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.Z,{defaultSelectedKeys:[t.pop()],defaultOpenKeys:[].concat(t),mode:"inline",items:Ce,style:{height:"100vh"}})})},De=n(6188),Re=[];function Ne(){var e=(0,c.TH)().pathname,t=(0,l.useState)([]),n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,l.useEffect)((function(){var t,n=[];null===(t=e.split("/"))||void 0===t||t.reduce((function(e,t){return n.push(e+"/"+t),e+"/"+t})),a(Re.filter((function(e){return n.includes(e.url)})).reverse())}),[e]),(0,m.jsx)(De.Z,{separator:"",children:null===i||void 0===i?void 0:i.map((function(e,t){return t===i.length-1?(0,m.jsx)(De.Z.Item,{children:e.title},e.url):(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(De.Z.Item,{children:(0,m.jsx)(we.rU,{to:e.url+"/",children:e.title})}),(0,m.jsx)(De.Z.Separator,{children:"/"})]},e.url)}))})}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(t){t.children&&e(t.children,n+t.url),Re.push({title:t.title,url:n+t.url})}))}((0,i.Z)(ke));var Le=n(8935);function _e(){return(0,m.jsx)(Le.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,m.jsx)(we.rU,{to:"/",children:(0,m.jsx)(g.Z,{type:"primary",children:"Back Home"})})})}var Ae=n(2266),Te=n(9529),Ue=n(7962);function Be(){var e,t,n=[{label:null!==G.Z&&void 0!==G.Z&&G.Z.name?G.Z.name:"You",icon:(0,m.jsx)(Ae.C,{shape:"circle",size:32,src:null!==G.Z&&void 0!==G.Z&&null!==(e=G.Z.avatar)&&void 0!==e&&e.url?(0,m.jsx)(v.Z,{src:null===G.Z||void 0===G.Z?void 0:G.Z.avatar.url,style:{width:32},preview:!1}):null,icon:null!==G.Z&&void 0!==G.Z&&null!==(t=G.Z.avatar)&&void 0!==t&&t.url?null:(0,m.jsx)(Te.Z,{})}),key:"profile"},{label:"Logout",icon:(0,m.jsx)(Ue.Z,{}),key:"logout",style:{color:"red"},onClick:function(){window.localStorage.clear(),window.location.reload()}}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.Z.Header,{style:{padding:0,height:"auto"},children:(0,m.jsx)(u.Z,{mode:"horizontal",items:n,style:{lineHeight:"46px"}})})})}var Fe=[];function qe(){var e=(0,l.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(s.Z,{style:{minHeight:"100vh"},children:[(0,m.jsxs)(s.Z.Sider,{width:250,collapsible:!0,collapsed:n,onCollapse:function(e){return i(e)},style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0,maxWidth:"300px!important",width:"300px!important"},children:[(0,m.jsx)("div",{className:"logo"}),(0,m.jsx)(Ie,{})]}),"routes",(0,m.jsxs)(s.Z,{className:"site-layout",children:[(0,m.jsx)(Be,{}),(0,m.jsxs)(s.Z.Content,{style:{margin:"24px 16px 0 240px",overflow:"initial",marginLeft:n?"60px":"230px"},children:[(0,m.jsx)(Ne,{}),(0,m.jsx)(o.Z,{bordered:!0,children:(0,m.jsxs)(c.Z5,{children:[Fe.map((function(e){return(0,m.jsx)(c.AW,{path:e.url,element:(0,m.jsx)(e.component,{})},e.url)})),(0,m.jsx)(c.AW,{path:"*",element:(0,m.jsx)(_e,{})})]})})]})]})]})})}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(t){t.children?e(t.children,n+t.url):Fe.push((0,a.Z)((0,a.Z)({},t),{},{url:n+t.url}))}))}((0,i.Z)(ke))}}]);
//# sourceMappingURL=974.107aab11.chunk.js.map